import { Plugin, PluginKey } from 'prosemirror-state';
const editablePlugin = (editable = true) => {
    return new Plugin({
        key: new PluginKey('editable'),
        state: {
            init() {
                return editable;
            },
            apply(tr, previousVal) {
                var _a;
                return (_a = tr.getMeta('UPDATE_EDITABLE')) !== null && _a !== void 0 ? _a : previousVal;
            }
        },
        props: {
            editable(state) {
                return this.getState(state);
            },
            attributes(state) {
                const isEnabled = this.getState(state);
                if (isEnabled) {
                    return null;
                }
                return {
                    class: 'NgxEditor__Content--Disabled'
                };
            }
        }
    });
};
export default editablePlugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtZWRpdG9yL3NyYy9saWIvcGx1Z2lucy9lZGl0YWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWUsTUFBTSxFQUFFLFNBQVMsRUFBZSxNQUFNLG1CQUFtQixDQUFDO0FBRWhGLE1BQU0sY0FBYyxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksRUFBVSxFQUFFO0lBQ2pELE9BQU8sSUFBSSxNQUFNLENBQUM7UUFDaEIsR0FBRyxFQUFFLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQztRQUM5QixLQUFLLEVBQUU7WUFDTCxJQUFJO2dCQUNGLE9BQU8sUUFBUSxDQUFDO1lBQ2xCLENBQUM7WUFDRCxLQUFLLENBQUMsRUFBZSxFQUFFLFdBQW9COztnQkFDekMsT0FBTyxNQUFBLEVBQUUsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsbUNBQUksV0FBVyxDQUFDO1lBQ3RELENBQUM7U0FDRjtRQUNELEtBQUssRUFBRTtZQUNMLFFBQVEsQ0FBQyxLQUFrQjtnQkFDekIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlCLENBQUM7WUFDRCxVQUFVLENBQUMsS0FBa0I7Z0JBQzNCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRXZDLElBQUksU0FBUyxFQUFFO29CQUNiLE9BQU8sSUFBSSxDQUFDO2lCQUNiO2dCQUVELE9BQU87b0JBQ0wsS0FBSyxFQUFFLDhCQUE4QjtpQkFDdEMsQ0FBQztZQUNKLENBQUM7U0FDRjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLGVBQWUsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFBsdWdpbiwgUGx1Z2luS2V5LCBUcmFuc2FjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcblxuY29uc3QgZWRpdGFibGVQbHVnaW4gPSAoZWRpdGFibGUgPSB0cnVlKTogUGx1Z2luID0+IHtcbiAgcmV0dXJuIG5ldyBQbHVnaW4oe1xuICAgIGtleTogbmV3IFBsdWdpbktleSgnZWRpdGFibGUnKSxcbiAgICBzdGF0ZToge1xuICAgICAgaW5pdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgICAgfSxcbiAgICAgIGFwcGx5KHRyOiBUcmFuc2FjdGlvbiwgcHJldmlvdXNWYWw6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdHIuZ2V0TWV0YSgnVVBEQVRFX0VESVRBQkxFJykgPz8gcHJldmlvdXNWYWw7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9wczoge1xuICAgICAgZWRpdGFibGUoc3RhdGU6IEVkaXRvclN0YXRlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YXRlKHN0YXRlKTtcbiAgICAgIH0sXG4gICAgICBhdHRyaWJ1dGVzKHN0YXRlOiBFZGl0b3JTdGF0ZSk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCBudWxsIHtcbiAgICAgICAgY29uc3QgaXNFbmFibGVkID0gdGhpcy5nZXRTdGF0ZShzdGF0ZSk7XG5cbiAgICAgICAgaWYgKGlzRW5hYmxlZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjbGFzczogJ05neEVkaXRvcl9fQ29udGVudC0tRGlzYWJsZWQnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGVkaXRhYmxlUGx1Z2luO1xuIl19